(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{495:function(t,s,e){"use strict";e.r(s);var n=e(4),a=Object(n.a)({},(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("p",[e("a",{attrs:{href:"https://pub.dev/documentation/riverpod/latest/all/StateNotifierProvider-class.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("StateNotifierProvider"),e("OutboundLink")],1),t._v("로 가장 큰 장점은 외부에서 State를 바꿀수 있음.")]),t._v(" "),e("p",[t._v("사용 방법은 "),e("code",[t._v("StateNotifier")]),t._v("를 상속 받아 서비스 레벨을 구현하고, "),e("code",[t._v("StateNotifierProvider")]),t._v("로 provider를 만들어서 사용")]),t._v(" "),e("h2",{attrs:{id:"todo-예제"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#todo-예제"}},[t._v("#")]),t._v(" ToDo 예제")]),t._v(" "),e("p",[e("a",{attrs:{href:"https://github.com/rrousselGit/river_pod/blob/master/examples/todos/README.md",target:"_blank",rel:"noopener noreferrer"}},[t._v("Riverpod의 공식예제 todo"),e("OutboundLink")],1),t._v("를 참고해서 "),e("code",[t._v("StateNotifierProvider")]),t._v("의 활용 방법을 살펴 보자.")]),t._v(" "),e("blockquote",[e("p",[t._v("공식예제인 Todo는 "),e("code",[t._v("StateNotifierProvider")]),t._v(" 를 사용하지 않음.")])]),t._v(" "),e("h3",{attrs:{id:"todo"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#todo"}},[t._v("#")]),t._v(" Todo")]),t._v(" "),e("p",[t._v("모델인 Todo 클래스는 다음과 같다")]),t._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("class Todo {\n  Todo({\n    this.description,\n    this.completed = false,\n    String id,\n  }) : id = id ?? _uuid.v4();\n\n  final String id;\n  final String description;\n  final bool completed;\n\n  @override\n  String toString() {\n    return 'Todo(description: $description, completed: $completed)';\n  }\n}\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br"),e("span",{staticClass:"line-number"},[t._v("6")]),e("br"),e("span",{staticClass:"line-number"},[t._v("7")]),e("br"),e("span",{staticClass:"line-number"},[t._v("8")]),e("br"),e("span",{staticClass:"line-number"},[t._v("9")]),e("br"),e("span",{staticClass:"line-number"},[t._v("10")]),e("br"),e("span",{staticClass:"line-number"},[t._v("11")]),e("br"),e("span",{staticClass:"line-number"},[t._v("12")]),e("br"),e("span",{staticClass:"line-number"},[t._v("13")]),e("br"),e("span",{staticClass:"line-number"},[t._v("14")]),e("br"),e("span",{staticClass:"line-number"},[t._v("15")]),e("br"),e("span",{staticClass:"line-number"},[t._v("16")]),e("br")])]),e("h3",{attrs:{id:"statenotifier"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#statenotifier"}},[t._v("#")]),t._v(" StateNotifier")]),t._v(" "),e("p",[e("code",[t._v("StateNotifier")]),t._v("를 확장하여 todo를 add, remove, toggle 기능을 추가")]),t._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("class TodosNotifier extends StateNotifier<List<Todo>> {\n  TodosNotifier(): super([]);\n\n  void add(Todo todo) {\n    state = [...state, todo];\n  }\n\n  void remove(String todoId) {\n    state = [\n      for (final todo in state)\n        if (todo.id != todoId) todo,\n    ];\n  }\n\n  void toggle(String todoId) {\n    state = [\n      for (final todo in state)\n        if (todo.id == todoId) todo.copyWith(completed: !todo.completed),\n    ];\n  }\n}\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br"),e("span",{staticClass:"line-number"},[t._v("6")]),e("br"),e("span",{staticClass:"line-number"},[t._v("7")]),e("br"),e("span",{staticClass:"line-number"},[t._v("8")]),e("br"),e("span",{staticClass:"line-number"},[t._v("9")]),e("br"),e("span",{staticClass:"line-number"},[t._v("10")]),e("br"),e("span",{staticClass:"line-number"},[t._v("11")]),e("br"),e("span",{staticClass:"line-number"},[t._v("12")]),e("br"),e("span",{staticClass:"line-number"},[t._v("13")]),e("br"),e("span",{staticClass:"line-number"},[t._v("14")]),e("br"),e("span",{staticClass:"line-number"},[t._v("15")]),e("br"),e("span",{staticClass:"line-number"},[t._v("16")]),e("br"),e("span",{staticClass:"line-number"},[t._v("17")]),e("br"),e("span",{staticClass:"line-number"},[t._v("18")]),e("br"),e("span",{staticClass:"line-number"},[t._v("19")]),e("br"),e("span",{staticClass:"line-number"},[t._v("20")]),e("br"),e("span",{staticClass:"line-number"},[t._v("21")]),e("br")])]),e("h3",{attrs:{id:"statenotifierprovider"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#statenotifierprovider"}},[t._v("#")]),t._v(" StateNotifierProvider")]),t._v(" "),e("p",[e("code",[t._v("StateNotifierProvider")]),t._v("로 provider를 생성")]),t._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("final todosProvider = StateNotifierProvider((ref) => TodosNotifier());\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br")])]),e("h3",{attrs:{id:"ui"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ui"}},[t._v("#")]),t._v(" UI")]),t._v(" "),e("p",[t._v("todosProvider의 state(="),e("code",[t._v("List<Todo>")]),t._v(")를 ui에서 사용")]),t._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("Widget build(BuildContext context, ScopedReader watch) {\n  // rebuild the widget when the todo list changes\n  List<Todo> todos = watch(todosProvider.state);\n\n  return ListView(\n    children: [\n      for (final todo in todos)\n        CheckboxListTile(\n           value: todo.completed,\n           // When tapping on the todo, change its completed status\n           onChanged: (value) => context.read(todosProvider).toggle(todo.id),\n           title: Text(todo.description),\n        ),\n    ],\n  );\n}\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br"),e("span",{staticClass:"line-number"},[t._v("6")]),e("br"),e("span",{staticClass:"line-number"},[t._v("7")]),e("br"),e("span",{staticClass:"line-number"},[t._v("8")]),e("br"),e("span",{staticClass:"line-number"},[t._v("9")]),e("br"),e("span",{staticClass:"line-number"},[t._v("10")]),e("br"),e("span",{staticClass:"line-number"},[t._v("11")]),e("br"),e("span",{staticClass:"line-number"},[t._v("12")]),e("br"),e("span",{staticClass:"line-number"},[t._v("13")]),e("br"),e("span",{staticClass:"line-number"},[t._v("14")]),e("br"),e("span",{staticClass:"line-number"},[t._v("15")]),e("br"),e("span",{staticClass:"line-number"},[t._v("16")]),e("br")])]),e("blockquote",[e("p",[e("code",[t._v("context.read(todosProvider).toggle(todo.id)")]),t._v("로 ui 효율화")])])])}),[],!1,null,null,null);s.default=a.exports}}]);